<div class="section" id="visualizations">
<span id="id1"></span><h1>5. Visualizations<a class="headerlink" href="#visualizations" title="Permalink to this headline">¶</a></h1>
<p>Scikit-learn defines a simple API for creating visualizations for machine
learning. The key feature of this API is to allow for quick plotting and
visual adjustments without recalculation. In the following example, we plot a
ROC curve for a fitted support vector machine:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.svm</span> <span class="kn">import</span> <span class="n">SVC</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">plot_roc_curve</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_wine</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">svc</span> <span class="o">=</span> <span class="n">SVC</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">svc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">svc_disp</span> <span class="o">=</span> <span class="n">plot_roc_curve</span><span class="p">(</span><span class="n">svc</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference external image-reference" href="auto_examples/miscellaneous/plot_roc_curve_visualization_api.html"><img alt="_images/sphx_glr_plot_roc_curve_visualization_api_001.png" src="_images/sphx_glr_plot_roc_curve_visualization_api_001.png" style="width: 480.0px; height: 360.0px;"/></a>
</div>
<p>The returned <code class="docutils literal notranslate"><span class="pre">svc_disp</span></code> object allows us to continue using the already computed
ROC curve for SVC in future plots. In this case, the <code class="docutils literal notranslate"><span class="pre">svc_disp</span></code> is a
<a class="reference internal" href="modules/generated/sklearn.metrics.RocCurveDisplay.html#sklearn.metrics.RocCurveDisplay" title="sklearn.metrics.RocCurveDisplay"><code class="xref py py-class docutils literal notranslate"><span class="pre">RocCurveDisplay</span></code></a> that stores the computed values as
attributes called <code class="docutils literal notranslate"><span class="pre">roc_auc</span></code>, <code class="docutils literal notranslate"><span class="pre">fpr</span></code>, and <code class="docutils literal notranslate"><span class="pre">tpr</span></code>. Next, we train a random forest
classifier and plot the previously computed roc curve again by using the <code class="docutils literal notranslate"><span class="pre">plot</span></code>
method of the <code class="docutils literal notranslate"><span class="pre">Display</span></code> object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>

<span class="n">rfc</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">rfc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">rfc_disp</span> <span class="o">=</span> <span class="n">plot_roc_curve</span><span class="p">(</span><span class="n">rfc</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">svc_disp</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference external image-reference" href="auto_examples/miscellaneous/plot_roc_curve_visualization_api.html"><img alt="_images/sphx_glr_plot_roc_curve_visualization_api_002.png" src="_images/sphx_glr_plot_roc_curve_visualization_api_002.png" style="width: 480.0px; height: 360.0px;"/></a>
</div>
<p>Notice that we pass <code class="docutils literal notranslate"><span class="pre">alpha=0.8</span></code> to the plot functions to adjust the alpha
values of the curves.</p>
<div class="topic">
<p class="topic-title">Examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="auto_examples/miscellaneous/plot_roc_curve_visualization_api.html#sphx-glr-auto-examples-miscellaneous-plot-roc-curve-visualization-api-py"><span class="std std-ref">ROC Curve with Visualization API</span></a></p></li>
<li><p><a class="reference internal" href="auto_examples/miscellaneous/plot_partial_dependence_visualization_api.html#sphx-glr-auto-examples-miscellaneous-plot-partial-dependence-visualization-api-py"><span class="std std-ref">Advanced Plotting With Partial Dependence</span></a></p></li>
<li><p><a class="reference internal" href="auto_examples/miscellaneous/plot_display_object_visualization.html#sphx-glr-auto-examples-miscellaneous-plot-display-object-visualization-py"><span class="std std-ref">Visualizations with Display Objects</span></a></p></li>
</ul>
</div>
<div class="section" id="available-plotting-utilities">
<h2>5.1. Available Plotting Utilities<a class="headerlink" href="#available-plotting-utilities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="functions">
<h3>5.1.1. Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="modules/generated/sklearn.inspection.plot_partial_dependence.html#sklearn.inspection.plot_partial_dependence" title="sklearn.inspection.plot_partial_dependence"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inspection.plot_partial_dependence</span></code></a>(…[, …])</p></td>
<td><p>Partial dependence plots.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="modules/generated/sklearn.metrics.plot_confusion_matrix.html#sklearn.metrics.plot_confusion_matrix" title="sklearn.metrics.plot_confusion_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">metrics.plot_confusion_matrix</span></code></a>(estimator, X, …)</p></td>
<td><p>Plot Confusion Matrix.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="modules/generated/sklearn.metrics.plot_precision_recall_curve.html#sklearn.metrics.plot_precision_recall_curve" title="sklearn.metrics.plot_precision_recall_curve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">metrics.plot_precision_recall_curve</span></code></a>(…[, …])</p></td>
<td><p>Plot Precision Recall Curve for binary classifiers.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="modules/generated/sklearn.metrics.plot_roc_curve.html#sklearn.metrics.plot_roc_curve" title="sklearn.metrics.plot_roc_curve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">metrics.plot_roc_curve</span></code></a>(estimator, X, y, \*)</p></td>
<td><p>Plot Receiver operating characteristic (ROC) curve.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="display-objects">
<h3>5.1.2. Display Objects<a class="headerlink" href="#display-objects" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="modules/generated/sklearn.inspection.PartialDependenceDisplay.html#sklearn.inspection.PartialDependenceDisplay" title="sklearn.inspection.PartialDependenceDisplay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">inspection.PartialDependenceDisplay</span></code></a>(…)</p></td>
<td><p>Partial Dependence Plot (PDP) visualization.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="modules/generated/sklearn.metrics.ConfusionMatrixDisplay.html#sklearn.metrics.ConfusionMatrixDisplay" title="sklearn.metrics.ConfusionMatrixDisplay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">metrics.ConfusionMatrixDisplay</span></code></a>(…[, …])</p></td>
<td><p>Confusion Matrix visualization.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="modules/generated/sklearn.metrics.PrecisionRecallDisplay.html#sklearn.metrics.PrecisionRecallDisplay" title="sklearn.metrics.PrecisionRecallDisplay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">metrics.PrecisionRecallDisplay</span></code></a>(precision, …)</p></td>
<td><p>Precision Recall visualization.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="modules/generated/sklearn.metrics.RocCurveDisplay.html#sklearn.metrics.RocCurveDisplay" title="sklearn.metrics.RocCurveDisplay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">metrics.RocCurveDisplay</span></code></a>(*, fpr, tpr[, …])</p></td>
<td><p>ROC Curve visualization.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>